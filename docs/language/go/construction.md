# Environment Construction
Go言語のコードを書くためには、なんといっても、開発ツールのインストールは不可欠です。
最新のGoバージョンをインストールしましょう

## Go インストール
今回はmiseを使ってインストールします。
```bash
##Version指定したい場合はgo@1.24.2などを指定（mise ls-remote goなどでバージョンを確認）
mise install go 
mise use go
```

Goがインストールされたか確認します。
```bash
go version
```

::: info 
go version go1.24.2 darwin/arm64 と出ればOK
:::

## Helloworld実行
初めてのGo言語実行してみましょう

### go run
```go
package main

import "fmt"

func main() {
	fmt.Println("Hello, World!")
}
```

hello.goというファイルにコードを入力して以下を実行します。

```bash
go run hello.go
```

コマンドを実行しても、バイナリファイルは見つかりません。
以下のような流れでgo runは実行します。
1. go runでバイナリファイルがビルドされ一時ディレクトリにおかれる
2. そのファイルを実行する
3. プログラム終了後、そのファイルが削除される

このように擬似的にスクリプト言語のように扱うことができます！！！


### go build
では、バイナリファイルを作る場合はどうなるでしょうか
再利用できるように、実行形式のバイナリファイルを作りたい場合は、go buildを使います
```bash
go build hello.go
```

こちらは-oオプションなどを利用して、ファイル名や、保存場所の変更もできます。
バイナリの実行は通常のlinuxバイナリの実行方法と同じように実行できます。

```bash
./hello
```


### go mod
Goではモジュールを使うことができます。
```bash
mkdir hello-world
cd hello-world
go mod init hello-world
```

go modを実行すると、go.modというファイルができます。

```go
module hello-world

go 1.24.2
```

ここに（ディレクトリ内に）先ほどのhello.goを配置し、以下のコマンドを実行するとmoduleの名前でバイナリファイルが出力されます。
```bash
go mod tidy
go build
```

go.modがあると、ファイルを指定しなくてもそのディレクトリに置かれた.goファイルを解析してコンパイルしてビルドしてくれます。

「go build」の前に実行した「go mod tidy」はソースファイルを解析して必要なサードパーティライブラらいのダウンロードや不要になったファイルの削除などを行ってくれます。

### go install
Goのプログラムはコンパイルされたバイナリの実行形式が配布されている場合もありますが、ソースが公開されていて、それをinstallできる場合もあります。

Go言語はJavaのような中央集権的なホストには依存しておらず、ソースコードのリポジトリを介して共有します。

```bash
go install <githubなどのコードのバス>
```
Go言語で書かれたツールを決まった場所に置かなければならないというわけではありません。

### コードのフォーマット
Go言語にはフォーマットルールが標準化されています。例えば、字下げにタブを使いますし、最初の{が関数名と同じ行にないと構文エラーになったりします。

コードフォーマットを標準の形式にしてくれるコマンドが「go fmt」です。goimportsという機能強化版もあるので使ってみてください。

[参考資料](https://zenn.dev/ryu02/articles/6aa50aa2b968a9)

### lintとvet
リンターはコードのスタイルがガイドラインに沿っているかを確認してくれます。staticcheckなどが有名です。

また、開発者が遭遇するエラーには別の種類のものがあります。構文的には問題ないものの、期待通りに動いてくれないコードです。例えば、メソッドに渡す引数の数を間違えたり、使われない変数に値を代入したりといったものです。この種のエラーを解決するために「go vet」があります。

他にもgolangci-lintのようなツールもありますが、多くのリンターを実行するので、慣れてきたくらいで良いかと思います。


## まとめ
こちらでは、Goの開発環境のインストール方法を説明しました。また、ビルドや、コード品質を確保するためのツールもたくさんあるのでここからGoを極めていきましょう！
